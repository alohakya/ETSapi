<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.project.etsapi.mapper.TakeCourseMapper">

    <!--    add takeCourse-->
    <insert id="addTakeCourse" parameterType="com.project.etsapi.entity.TakeCourse">
        INSERT INTO takecourse(student_ID, course_ID, authority)
        VALUES (#{student_ID}, #{course_ID}, #{authority})
    </insert>

    <select id="getStudentListByCourseId" parameterType="java.util.HashMap" resultType="com.project.etsapi.entity.Student">
        SELECT takecourse.student_ID, student.name
        FROM takecourse NATURAL JOIN student
        WHERE takecourse.course_ID = #{course_ID} and takecourse.authority = #{authority}
    </select>

    <!--    get TakeCourse-->
    <select id="getTakeCourse" parameterType="java.util.HashMap" resultType="com.project.etsapi.entity.TakeCourse">
        SELECT * FROM takecourse
        WHERE student_ID=#{student_ID} and course_ID=#{course_ID}
    </select>
</mapper>


